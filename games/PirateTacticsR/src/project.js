require=function t(e,i,a){function n(o,s){if(!i[o]){if(!e[o]){var r="function"==typeof require&&require;if(!s&&r)return r(o,!0);if(c)return c(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return n(i?i:t)},h,h.exports,t,e,i,a)}return i[o].exports}for(var c="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({AIGamePlayer:[function(t,e,i){"use strict";cc._RFpush(e,"6ff24GxGpVHb47hCGqZI5fx","AIGamePlayer");var a=t("GamePlayer"),n=t("CaptainBoat"),c=(t("HayaiBoat"),t("KataiBoat")),o=t("KogekiBoat");cc.Class({"extends":a,properties:{},start:function(){this.boatNodeList=[],this.iam="cup",this.initialBoatCount=0,this.state=(new r).initialize(this)},resetState:function(){this.state=(new r).initialize(this),this.initialBoatCount=0},simulatePlay:function(){this.state=this.state.updateState();var t=this.state.choosenAction();this.setActiveBoatNode(t.boatScr.node);var e=this;setTimeout(function(){switch(t.type){case"skill":t.boatScr.useSkill();break;case"attack":t.boatScr.attackBoat(t.target);break;case"move":t.path&&t.path.length>0?e.managerSrc.mapScr.moveBoat(t.boatScr,t.path,function(){e.managerSrc.endTurn()}):e.managerSrc.endTurn()}},1e3)},onLoad:function(){}});var s=cc.Class({initialize:function(t){return this.playerScr=t,this},updateState:function(){return this},choosenAction:function(){var t=this.playerScr.getActiveBoatNode().getComponent("boat");if(0==t.usedSkill&&Math.random<.2)return{type:"skill",boatScr:t};for(var e=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList,i=0;i<e.length;i++){var a=e[i].getComponent("boat");if(t.withinRange(a.node.i,a.node.j))return{type:"attack",boatScr:t,target:a}}var n=this.playerScr.managerSrc.mapScr.getMovementRange(t,!0),c=Math.floor(Math.random()*n.length),o=n[c],s=this.playerScr.managerSrc.mapScr.getPath(t.node.i,t.node.j,o.i,o.j,t),r=this.playerScr.managerSrc.mapScr.getDirection(o,t.node);return{type:"move",boatScr:t,path:s,dir:r}},getRandomBoatNode:function(){var t=this.playerScr.boatNodeList.length,e=Math.floor(Math.random()*t);return this.playerScr.boatNodeList[e]},getTargetNodesWithinRange:function(t){for(var e=[],i=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length,a=0;a<i;a++){var n=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList[a];t.withinRange(n.i,n.j)&&e.push(n)}return e},isTargeted:function(t){for(var e=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length,i=0;i<e;i++){var a=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList[i];if(t.withinRange(a.i,a.j))return!0}return!1},getMovePositionList:function(t,e){for(var i=!0,a=this.playerScr.managerSrc.mapScr.getMovementRange(t,i),n=[],c=0;c<a.length;c++)for(var o=a[c],s=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length,r=0;r<s;r++){var l=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList[r],h=l.getComponent("boat");h.withinRange(o.i,o.j)&&Math.random<e||n.push(o)}return n},getRandomPath:function(t,e){for(var i=this.getMovePositionList(t,e),a=[],n=0;n<i.length;n++){var c=i[n],o=this.playerScr.managerSrc.mapScr.getPath(t.node.i,t.node.j,c.i,c.j,t);o.length>0&&a.push(o)}var o=a[Math.floor(Math.random()*a.length)];return o},sortPathByLength:function(t){return t.sort(function(t,e){return t.length<e.length?1:t.length>e.length?-1:0}),t},testSkillUseInComcat:function(t){if(0==t.usedSkill)if(t instanceof n)for(var e=this.playerScr.boatNodeList.length,i=0,a=0;a<e;a++){var c=this.playerScr.boatNodeList[a];if(c.hp<.7*c.hpMax&&i++,Math.random()<=i/this.playerScr.initialBoatCount)return{type:"skill",boatScr:t}}else if(t instanceof o){for(var s=0,r=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length,a=0;a<r;a++){var l=this.playerScr.managerSrc.getNonActivePlayer().boatNodeList[a];t.withinRange(l.i,l.j)&&s++}if(Math.random()<=s)return{type:"skill",boatScr:t}}else if(Math.random()<.2)return{type:"skill",boatScr:t};return null}}),r=cc.Class({"extends":s,updateState:function(){for(var t=this.playerScr.boatNodeList.length,e=0;e<t;e++){var i=this.playerScr.boatNodeList[e].getComponent("boat"),a=this.getTargetNodesWithinRange(i);if(a.length>0)return console.log("AI switch from OpeningState to MidGameState."),(new l).initialize(this.playerScr)}return console.log("AI in OpeningState"),this},choosenAction:function(){var t=this.playerScr.getActiveBoatNode().getComponent("boat");if(0==t.usedSkill&&t instanceof c)return console.log("AI use skill",t.nameKey,t.skillName),{type:"skill",boatScr:t};for(var e=this.getMovePositionList(t,.25),i=[],a=0;a<e.length;a++){var n=e[a];n.i<=t.node.i+2&&n.j>=t.node.j-2&&i.push(this.playerScr.managerSrc.mapScr.getPath(t.node.i,t.node.j,n.i,n.j,t))}i=this.sortPathByLength(i);var o=Math.floor(Math.random()*(.3*i.length)),s=i[o];return null==s&&(console.log("AI no safe path"),s=this.getRandomPath(t,0,0)),console.log("AI random long move",t.nameKey),{type:"move",boatScr:t,path:s}}}),l=cc.Class({"extends":s,updateState:function(){return this.playerScr.boatNodeList.length<=Math.ceil(this.playerScr.initialBoatCount/2)?(console.log("AI switch from MidGameState to EndGameGoodState."),(new h).initialize(this.playerScr)):this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length<=Math.ceil(this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length)?(console.log("AI switch from MidGameState to EndGameBadState."),(new u).initialize(this.playerScr)):(console.log("AI in MidGameState"),this)},choosenAction:function(){for(var t=0;t<1;t++){var e=this.playerScr.getActiveBoatNode().getComponent("boat"),i=this.testSkillUseInComcat(e);if(i)return console.log("AI use skill",e.nameKey,e.skillName),i;var a=this.getTargetNodesWithinRange(e);if(a.length>0&&Math.random()<.7){var n=a[Math.floor(Math.random()*a.length)].getComponent("boat");return console.log("AI attack from ",e.nameKey,"on",n.nameKey),{type:"attack",boatScr:e,target:n}}if(e.hp<=.5*e.hpMax&&Math.random<.3&&this.isTargeted(e)){var c=this.getRandomPath(e,.9);if(c)return console.log("AI escaping",e.nameKey),{type:"move",boatScr:e,path:c}}}var c=this.getRandomPath(e,.5);return{type:"move",boatScr:e,path:c}}}),h=cc.Class({"extends":s,updateState:function(){return this.playerScr.boatNodeList.length<this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length?(console.log("AI switch from EndGameGoodState to EndGameBadState."),(new u).initialize(this.playerScr)):(console.log("AI in EndGameGoodState"),this)},choosenAction:function(){for(var t=0;t<1;t++){var e=this.playerScr.getActiveBoatNode().getComponent("boat"),i=this.testSkillUseInComcat(e);if(i)return console.log("AI use skill",e.nameKey,e.skillName),i;var a=this.getTargetNodesWithinRange(e);if(a.length>0&&Math.random()<.9){var n=a[Math.floor(Math.random()*a.length)].getComponent("boat");return console.log("AI attack from ",e.nameKey,"on",n.nameKey),{type:"attack",boatScr:e,target:n}}}var c=this.getRandomPath(e,.5);return null==c&&(console.log("AI no safe path"),c=this.getRandomPath(e,0)),console.log("AI random move",e.nameKey),{type:"move",boatScr:e,path:c}}}),u=cc.Class({"extends":s,updateState:function(){return this.playerScr.boatNodeList.length>this.playerScr.managerSrc.getNonActivePlayer().boatNodeList.length?(console.log("AI switch from EndGameBadState to EndGameGoodState."),(new h).initialize(this.playerScr)):(console.log("AI in EndGameBadState"),this)},choosenAction:function(){for(var t=0;t<1;t++){var e=this.playerScr.getActiveBoatNode().getComponent("boat");if(e.hp<.5*e.hpMax&&Math.random()<.5&&this.isTargeted(e)){var i=this.getRandomPath(e,.9);if(i)return console.log("AI escaping",e.nameKey),{type:"move",boatScr:e,path:i}}var a=this.testSkillUseInComcat(e);if(a)return console.log("AI use skill",e.nameKey,e.skillName),a;var n=this.getTargetNodesWithinRange(e);if(n.length>0&&Math.random()<.9){var c=n[Math.floor(Math.random()*n.length)].getComponent("boat");return console.log("AI attack from",e.nameKey,"on",c.nameKey),{type:"attack",boatScr:e,target:c}}}var i=this.getRandomPath(e,.8);return null==i&&(console.log("AI no safe path"),i=this.getRandomPath(e,0)),console.log("AI random move",e.nameKey),{type:"move",boatScr:e,path:i}}});cc._RFpop()},{CaptainBoat:"CaptainBoat",GamePlayer:"GamePlayer",HayaiBoat:"HayaiBoat",KataiBoat:"KataiBoat",KogekiBoat:"KogekiBoat"}],Alert:[function(t,e,i){"use strict";cc._RFpush(e,"9ccacMrCHRDyo8hrhsIPpm5","Alert"),cc.Class({"extends":cc.Component,properties:{skeltonBlack:{"default":null,type:cc.Node},window:{"default":null,type:cc.Node},message:{"default":null,type:cc.Label},clickSE:{"default":null,url:cc.AudioClip}},start:function(){this.skeltonBlack.width=cc.visibleRect.width,this.skeltonBlack.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t)},alert:function(t,e){cc.audioEngine.playEffect(this.clickSE,!1),this.node.active=!0,this.node.y=cc.visibleRect.height/2-100;var i=this.message.getComponent("LabelLocalized");i.textKey=t;var a=new cc.FadeIn(.3);this.node.runAction(a),this.window.scaleX=.75,this.window.scaleY=.75;var n=new cc.ScaleTo(.5,1,1).easing(cc.easeElasticOut());this.window.runAction(n);var c=new cc.DelayTime(1),o=new cc.FadeOut(.3),s=this,r=new cc.CallFunc(function(){s.node.active=!1,s.node.y=2*cc.visibleRect.height,e&&e()}),l=new cc.Sequence([c,o,r]);this.node.runAction(l)}}),cc._RFpop()},{}],Banner:[function(t,e,i){"use strict";cc._RFpush(e,"ba35bjwkKRJZ4hBIr+oNlyZ","Banner"),cc.Class({"extends":cc.Component,properties:{banners:{"default":[],type:[cc.Sprite]}},start:function(){this.node.width=cc.visibleRect.width,this.node.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=2*cc.visibleRect.height},show:function(t,e){this.node.active=!0,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2;for(var i=0;i<this.banners.length;i++)this.banners[i].enabled=!1;this.banners[t].enabled=!0;var a=new cc.FadeIn(.3),n=new cc.DelayTime(.3),c=new cc.FadeOut(.4),o=new cc.CallFunc(function(){e()}),s=new cc.Sequence([a,n,c,o]);this.banners[t].node.runAction(s)},showMidTerm:function(t,e){this.node.active=!0,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2;for(var i=0;i<this.banners.length;i++)this.banners[i].enabled=!1;this.banners[t].enabled=!0;var a=new cc.FadeIn(.5),n=new cc.DelayTime(2.5),c=new cc.FadeOut(.5),o=new cc.CallFunc(function(){e()}),s=new cc.Sequence([a,n,c,o]);this.banners[t].node.runAction(s)},hide:function(){this.node.active=!1,this.node.y=2*cc.visibleRect.height},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t)}}),cc._RFpop()},{}],CaptainBoat:[function(t,e,i){"use strict";cc._RFpush(e,"58c88UKNKBFq4mLw+Yq24fR","CaptainBoat");var a=t("boat");cc.Class({"extends":a,sinkBoat:function(){cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.skinSE,!1),this.gamePlayerScr.removeBoatNode(this.node);var t=this.node.getComponent(cc.Animation);t.play("sinkBoat0")},deleteSelfFromOwner:function(){this.node.parent.removeChild(this.node)},onAnimCompleted:function(){this.deleteSelfFromOwner()}}),cc._RFpop()},{boat:"boat"}],GamePlayer:[function(t,e,i){"use strict";cc._RFpush(e,"c390c/cA11DH5c3zMpxLLpq","GamePlayer");var a=(t("manager"),t("boat"),t("WindowStatus"));cc.Class({"extends":cc.Component,properties:{data:"名前",id:0,WindowStatusScr:{"default":null,type:a},initialBoatCount:0},toJSONString:function(){var t={},e=[],i=0;return this.boatNodeList.forEach(function(t){var a=t.getComponent("boat"),n={};n.type=a.getId(a.nameKey),n.i=t.i,n.j=t.j,i=t.scaleX,e.push(n)},this),t.players=[{player:{boat:e,dir:""+i}}],JSON.stringify(t)},setManagerSrc:function(t){this.managerSrc=t},start:function(){this.boatNodeList=[],this.iam="human",this.initialBoatCount=0},addBoatNode:function(t){this.initialBoatCount++,this.boatNodeList.push(t);var e=t.getComponent("boat");e.setGamePlayerScr(this),e.setWindowStatus(this.WindowStatusScr)},removeBoatNode:function(t){var e=t.getComponent("boat");delete e.gamePlayerScr;var i=[];this.boatNodeList.forEach(function(e){e!=t&&i.push(e)},this),this.boatNodeList=i,t==this.activeBoatNode&&(this.activeBoatNode=this.getNextEnableBoatAndRemove(this.activeBoatNode))},isActive:function(){return this.myTurn},setActive:function(t){this.myTurn=t},getActiveBoatNode:function(){return this.activeBoatNode?this.activeBoatNode:this.boatNodeList[0]},setActiveBoatNode:function(t){if(null!=this.activeBoatNode){this.activeBoatNode.stopAllActions(),this.activeBoatNode.opacity=255;var e=new cc.Blink(10,20);t.runAction(new cc.RepeatForever(e))}this.activeBoatNode=t,this.managerSrc.updateTurn()},resetEnableBoatList:function(){for(var t=[],e=0;e<this.boatNodeList.length;e++)this.boatNodeList[e].color=cc.color(255,255,255,255),t.push(this.boatNodeList[e]);this.boatEnableBoatList=t},getIndexOfEnableBoat:function(t){var e=-1;if(null==this.boatEnableBoatList)return e;for(var i=0;i<this.boatEnableBoatList.length;i++)if(this.boatEnableBoatList[i]==t){e=i;break}return e},getNextEnableBoatAndRemove:function(t){null!=t&&(t.color=cc.color(176,196,222,192));var e=this.getIndexOfEnableBoat(t);return e>=0&&this.boatEnableBoatList.splice(e,1),null!=this.boatEnableBoatList&&this.boatEnableBoatList.length>0?this.boatEnableBoatList[0]:null}}),cc._RFpop()},{WindowStatus:"WindowStatus",boat:"boat",manager:"manager"}],HayaiBoat:[function(t,e,i){"use strict";cc._RFpush(e,"262baSyuV1PHJyUlKuIcIzh","HayaiBoat");var a=t("boat");cc.Class({"extends":a,sinkBoat:function(){cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.skinSE,!1),this.gamePlayerScr.removeBoatNode(this.node);var t=this.node.getComponent(cc.Animation);t.play("sinkHayaiBoat")},processSkill:function(t){this.gamePlayerScr.managerSrc.getFreeTurns(this.gamePlayerScr.managerSrc.getActivePlayer(),2),t()},deleteSelfFromOwner:function(){this.node.parent.removeChild(this.node)},onAnimCompleted:function(){this.deleteSelfFromOwner()}}),cc._RFpop()},{boat:"boat"}],KataiBoat:[function(t,e,i){"use strict";cc._RFpush(e,"3a8b30WiE1JGb0D1jVARt2d","KataiBoat");var a=t("boat");cc.Class({"extends":a,sinkBoat:function(){cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.skinSE,!1),this.gamePlayerScr.removeBoatNode(this.node);var t=this.node.getComponent(cc.Animation);t.play("sinkKataiBoat")},processSkill:function(t){this.indestructible=!0,t()},attackBoat:function(t){this.indestructible=!1,a.prototype.attackBoat.call(this,t)},takeDamage:function(t){return this.indestructible?this.hp:void a.prototype.takeDamage.call(this,t)},deleteSelfFromOwner:function(){this.node.parent.removeChild(this.node),console.log("sink kogeki Boat!!")},onAnimCompleted:function(){this.deleteSelfFromOwner()}}),cc._RFpop()},{boat:"boat"}],KogekiBoat:[function(t,e,i){"use strict";cc._RFpush(e,"59a514EW+RNU6N8TxzGB9hi","KogekiBoat");var a=t("boat");cc.Class({"extends":a,sinkBoat:function(){cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.skinSE,!1),this.gamePlayerScr.removeBoatNode(this.node);var t=this.node.getComponent(cc.Animation);t.play("skinkTuyoiBoat")},processSkill:function(t){var e,i=this.gamePlayerScr.managerSrc.getNonActivePlayer().boatNodeList,a=this.attack,n=Math.random()-.5,c=a/10*n,o=Math.random(),s=!1;o>.9?(e=2*(a+c),s=!0):e=o<.1?50:a+c,e=Math.ceil(e),i.forEach(function(t){var i=t.getComponent("boat");if(this.withinRange(t.i,t.j)){var a=(i.hp,i.takeDamage(e),cc.instantiate(this.gamePlayerScr.managerSrc.explosionPrefab));a.x=i.node.x+a.width/2,a.y=i.node.y+a.height/2,this.mapSrc.node.addChild(a),cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.explosionSE,!1),i.hp<=0&&i.sinkBoat()}},this),t()},deleteSelfFromOwner:function(){this.node.parent.removeChild(this.node)},onAnimCompleted:function(){this.deleteSelfFromOwner()}}),cc._RFpop()},{boat:"boat"}],LabelLocalized:[function(t,e,i){"use strict";cc._RFpush(e,"e4f88adp3hERoJ48DZ2PSAl","LabelLocalized");var a=t("i18n");cc.Class({"extends":cc.Label,properties:{textKey:{"default":"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this._sgNode&&(this._sgNode.setString(this.string),this._updateNodeSize())}},string:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return a.t(this.textKey)},set:function(t){this.textKey=t,cc.warn("Please set label text key in Text Key property.")}}}}),cc._RFpop()},{i18n:"i18n"}],Main:[function(t,e,i){"use strict";cc._RFpush(e,"93d0dt630lLG7RyoZr3BDeT","Main");var a=t("manager");cc.Class({"extends":cc.Component,properties:{managerScr:{"default":null,type:a}},start:function(){}}),cc._RFpop()},{manager:"manager"}],UIShield:[function(t,e,i){"use strict";cc._RFpush(e,"1311fbYNDJGZbcJBXjMUzJY","UIShield"),cc.Class({"extends":cc.Component,properties:{},start:function(){this.node.width=cc.visibleRect.width,this.node.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2},show:function(){this.node.active=!0,this.node.y=cc.visibleRect.height/2},hide:function(){this.node.active=!1,this.node.y=2*cc.visibleRect.height},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t)}}),cc._RFpop()},{}],UI:[function(t,e,i){"use strict";cc._RFpush(e,"4078bxJsXJF2ZZIv/ybiQa7","UI"),cc.Class({"extends":cc.Component,properties:{lblTurn:{"default":null,type:cc.Label},lblPlayer:{"default":null,type:cc.Label},btnSetting:{"default":null,type:cc.Node},WindowSettingsNode:{"default":null,type:cc.Node}},onLoad:function(){this.isKeypressed=!1;var t=this;this.btnSetting.on(cc.Node.EventType.TOUCH_START,function(e){if(0==t.isKeypressed){var i=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());t.btnSetting.runAction(i),t.isKeypressed=!0}},t),this.btnSetting.on(cc.Node.EventType.TOUCH_END,function(e){if(1==t.isKeypressed){t.isKeypressed=!1;var i=new cc.ScaleTo(.2,1,1).easing(cc.easeElasticOut()),a=new cc.CallFunc(function(){var e=t.WindowSettingsNode.getComponent("WindowSettings");e.showSettingWindow()});t.btnSetting.runAction(new cc.Sequence([i,a]))}},t)},updateTurn:function(t){this.lblTurn.string=""+t},updatePlayer:function(t){this.lblPlayer.string=t}}),cc._RFpop()},{}],Utils:[function(t,e,i){"use strict";cc._RFpush(e,"954672UXmxMgZLnv/FfrGW1","Utils");var a={getEuclideanDistance:function(t,e,i,a){var n=Math.pow(t-i,2)+Math.pow(e-a,2),c=Math.sqrt(n);return c},getManhattanDistance:function(t,e,i,a){var n=Math.abs(t-i)+Math.abs(e-a);return n},getChebyshevDistance:function(t,e,i,a){var n=Math.max(Math.abs(t-i),Math.abs(e-a));return n}};e.exports=a,cc._RFpop()},{}],WindowSettings:[function(t,e,i){"use strict";cc._RFpush(e,"88ce7M9NKhJQr4jT+lwROmM","WindowSettings");t("manager");cc.Class({"extends":cc.Component,properties:{skeltonBlack:{"default":null,type:cc.Node},window:{"default":null,type:cc.Node},btnUp:{"default":null,type:cc.Node},btnDown:{"default":null,type:cc.Node},btnCancel:{"default":null,type:cc.Node},clickSE:{"default":null,url:cc.AudioClip}},start:function(){this.skeltonBlack.width=cc.visibleRect.width,this.skeltonBlack.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t),this.btnCancel.on(cc.Node.EventType.TOUCH_START,function(t){var e=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());this.btnCancel.runAction(e)},t),this.isKeypressed=!1,this.btnUp.on(cc.Node.EventType.TOUCH_START,function(e){if(cc.audioEngine.getMusicVolume()<=1&&0==t.isKeypressed){t.isKeypressed=!0;var i=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());t.btnUp.runAction(i)}},t),this.btnUp.on(cc.Node.EventType.TOUCH_END,function(e){if(cc.audioEngine.getMusicVolume()<=1&&1==t.isKeypressed){t.isKeypressed=!1;var i=new cc.ScaleTo(.2,1,1).easing(cc.easeElasticOut());cc.audioEngine.setMusicVolume(cc.audioEngine.getMusicVolume()+.1),t.btnUp.runAction(i)}},t),this.btnDown.on(cc.Node.EventType.TOUCH_START,function(e){if(cc.audioEngine.getMusicVolume()>0&&0==t.isKeypressed){t.isKeypressed=!0;var i=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());t.btnDown.runAction(i)}},t),this.btnDown.on(cc.Node.EventType.TOUCH_END,function(e){if(cc.audioEngine.getMusicVolume()>0&&1==t.isKeypressed){t.isKeypressed=!1;var i=new cc.ScaleTo(.2,1,1).easing(cc.easeElasticOut());cc.audioEngine.setMusicVolume(cc.audioEngine.getMusicVolume()-.1),t.btnDown.runAction(i)}},t)},pushedCancelBtn:function(){this.btnCancel.runAction(new cc.ScaleTo(.5,1.1,1.1).easing(cc.easeElasticOut()));var t=new cc.FadeOut(.3),e=this,i=new cc.CallFunc(function(){e.node.active=!1,e.node.y=2*cc.visibleRect.height}),a=new cc.Sequence([t,i]);this.node.runAction(a),cc.sys.localStorage.setItem("volume",cc.audioEngine.getMusicVolume())},showSettingWindow:function(){cc.audioEngine.playEffect(this.clickSE,!1),this.node.active=!0,this.node.y=cc.visibleRect.height/2;var t=new cc.FadeIn(.3);this.node.runAction(t),this.window.scaleX=.75,this.window.scaleY=.75;var e=new cc.ScaleTo(.5,1,1).easing(cc.easeElasticOut());this.window.runAction(e)}}),cc._RFpop()},{manager:"manager"}],WindowStatus:[function(t,e,i){"use strict";cc._RFpush(e,"8e1b7eLMOVFGoGkVOo5/MnS","WindowStatus"),cc.Class({"extends":cc.Component,properties:{lblCaptainName:{"default":null,type:cc.Label},lblAttackValue:{"default":null,type:cc.Label},lblMoveValue:{"default":null,type:cc.Label},lblDefenceValue:{"default":null,type:cc.Label},lblRangeValue:{"default":null,type:cc.Label},lblHPValue:{"default":null,type:cc.Label},spImage0:{"default":null,type:cc.Sprite},spImage1:{"default":null,type:cc.Sprite},spImage2:{"default":null,type:cc.Sprite},spImage3:{"default":null,type:cc.Sprite},skeltonBlack:{"default":null,type:cc.Node},window:{"default":null,type:cc.Node},btnCancel:{"default":null,type:cc.Node},clickSE:{"default":null,url:cc.AudioClip},btnSkill:{"default":null,type:cc.Node},skillSE:{"default":null,url:cc.AudioClip}},start:function(){this.skeltonBlack.width=cc.visibleRect.width,this.skeltonBlack.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t),this.btnCancel.on(cc.Node.EventType.TOUCH_START,function(t){var e=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());this.btnCancel.runAction(e)},t)},pushedCancelBtn:function(){this.btnCancel.runAction(new cc.ScaleTo(.5,1.1,1.1).easing(cc.easeElasticOut()));var t=new cc.FadeOut(.3),e=this,i=new cc.CallFunc(function(){e.node.active=!1,e.node.y=2*cc.visibleRect.height}),a=new cc.Sequence([t,i]);this.node.runAction(a)},pushedSkillBtn:function(){this.btnSkill.runAction(new cc.ScaleTo(.5,1.1,1.1).easing(cc.easeElasticOut()));var t=new cc.FadeOut(.3),e=this,i=new cc.CallFunc(function(){cc.audioEngine.playEffect(e.skillSE,!1),e.activeBoatScr.useSkill(),e.node.active=!1,e.node.y=2*cc.visibleRect.height}),a=new cc.Sequence([t,i]);this.node.runAction(a)},showMyStatus:function(t){this.activeBoatScr=t,cc.audioEngine.playEffect(this.clickSE,!1),this.node.active=!0,this.node.y=cc.visibleRect.height/2,t.usedSkill?this.btnSkill.active=!1:this.btnSkill.active=!0;var e=this.lblCaptainName.getComponent("LabelLocalized");e.textKey=t.nameKey,this.lblAttackValue.string=t.attack+"",this.lblMoveValue.string=t.movement+"",this.lblDefenceValue.string=t.defence+"",this.lblRangeValue.string=t.range+"",this.lblHPValue.string=t.hp+"/"+t.hpMax;var i;"map00.fire.10"==t.nameKey?(this.spImage0.enabled=!0,i=this.spImage0,this.spImage1.enabled=!1,this.spImage2.enabled=!1,this.spImage3.enabled=!1):"map00.fire.11"==t.nameKey?(this.spImage0.enabled=!1,this.spImage1.enabled=!0,i=this.spImage1,this.spImage2.enabled=!1,this.spImage3.enabled=!1):"map00.fire.12"==t.nameKey?(this.spImage0.enabled=!1,this.spImage1.enabled=!1,this.spImage2.enabled=!0,i=this.spImage2,this.spImage3.enabled=!1):"map00.fire.13"==t.nameKey&&(this.spImage0.enabled=!1,this.spImage1.enabled=!1,this.spImage2.enabled=!1,this.spImage3.enabled=!0,i=this.spImage3);var a=new cc.FadeIn(.3);this.node.runAction(a),this.window.scaleX=.75,this.window.scaleY=.75;var n=new cc.ScaleTo(.5,1,1).easing(cc.easeElasticOut());this.window.runAction(n);var c=new cc.MoveBy(.3,(-30),30),o=new cc.FadeIn(.3);i.node.opacity=.5,i.node.x=250,i.node.y=0,i.node.runAction(new cc.Spawn([c,o]))}}),cc._RFpop()},{}],WindowStory:[function(t,e,i){"use strict";cc._RFpush(e,"723beF9mi5KubmQExKnHthY","WindowStory");var a=t("manager");cc.Class({"extends":cc.Component,properties:{skeltonBlack:{"default":null,type:cc.Node},window:{"default":null,type:cc.Node},btnNew:{"default":null,type:cc.Node},btnContinue:{"default":null,type:cc.Node},clickSE:{"default":null,url:cc.AudioClip},managerScr:{"default":null,type:a},mapFrame:{"default":null,type:cc.Node}},start:function(){this.mapFrame.width==cc.visibleRect.width,this.mapFrame.height==cc.visibleRect.height},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t),this.btnNew.on(cc.Node.EventType.TOUCH_START,function(t){var e=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());this.btnNew.runAction(e)},t),this.btnContinue.on(cc.Node.EventType.TOUCH_START,function(t){var e=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());this.btnContinue.runAction(e)},t)},hide:function(){this.node.active=!1,this.node.y=2*cc.visibleRect.height},pushedNewBtn:function(){cc.audioEngine.playEffect(this.clickSE,!1),this.btnNew.runAction(new cc.ScaleTo(.5,1.1,1.1).easing(cc.easeElasticOut()));var t=new cc.FadeOut(.3),e=this,i=new cc.CallFunc(function(){e.node.active=!1,e.node.y=2*cc.visibleRect.height,e.managerScr.beginCampain(0,null)}),a=new cc.Sequence([t,i]);this.node.runAction(a)},pushedContinueBtn:function(){var t=cc.sys.localStorage.getItem("user"),e=+cc.sys.localStorage.getItem("stage");if(t&&e>0)return this.hide(),void this.managerScr.beginCampain(e,t);this.hide(),this.managerScr.beginCampain(0,null);var i=new cc.ScaleTo(.2,1,1).easing(cc.easeElasticOut());this.btnContinue.runAction(i)},show:function(){this.node.active=!0,this.skeltonBlack.width=cc.visibleRect.width,this.skeltonBlack.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2;var t=new cc.FadeIn(.3);this.node.runAction(t),this.window.scaleX=.75,this.window.scaleY=.75;var e=new cc.ScaleTo(.5,1,1).easing(cc.easeElasticOut());this.window.runAction(e)}}),cc._RFpop()},{manager:"manager"}],WindowTitle:[function(t,e,i){"use strict";cc._RFpush(e,"114901zxCFLvpxiRvzh5qQl","WindowTitle");var a=t("manager"),n=t("WindowStory");cc.Class({"extends":cc.Component,properties:{skeltonBlack:{"default":null,type:cc.Node},window:{"default":null,type:cc.Node},btnVS:{"default":null,type:cc.Node},btnStory:{"default":null,type:cc.Node},clickSE:{"default":null,url:cc.AudioClip},managerScr:{"default":null,type:a},WindowStoryScr:{"default":null,type:n},mapFrame:{"default":null,type:cc.Node}},start:function(){this.mapFrame.width==cc.visibleRect.width,this.mapFrame.height==cc.visibleRect.height;var t=+cc.sys.localStorage.getItem("volume");t>0&&cc.audioEngine.setMusicVolume(t);var e=cc.sys.localStorage.getItem("user"),i=+cc.sys.localStorage.getItem("stage"),a=+cc.sys.localStorage.getItem("continue");if(a>0){if(e&&i>0)return this.hide(),void this.managerScr.beginCampain(i,e);cc.sys.localStorage.setItem("continue","")}else cc.sys.localStorage.setItem("continue","");this.skeltonBlack.width=cc.visibleRect.width,this.skeltonBlack.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2;var n=new cc.FadeIn(.3);this.node.runAction(n),this.window.scaleX=.75,this.window.scaleY=.75;var c=new cc.ScaleTo(.5,1,1).easing(cc.easeElasticOut());this.window.runAction(c)},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()},t),this.btnVS.on(cc.Node.EventType.TOUCH_START,function(t){var e=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());this.btnVS.runAction(e)},t),this.btnStory.on(cc.Node.EventType.TOUCH_START,function(t){var e=new cc.ScaleTo(.2,1.1,1.1).easing(cc.easeElasticOut());this.btnStory.runAction(e)},t)},hide:function(){this.node.active=!1,this.node.y=2*cc.visibleRect.height},pushedVSBtn:function(){cc.audioEngine.playEffect(this.clickSE,!1),this.btnVS.runAction(new cc.ScaleTo(.5,1.1,1.1).easing(cc.easeElasticOut()));var t=new cc.FadeOut(.3),e=this,i=new cc.CallFunc(function(){e.node.active=!1,e.node.y=2*cc.visibleRect.height,e.managerScr.beginVSMode()}),a=new cc.Sequence([t,i]);this.node.runAction(a)},pushedStoryBtn:function(){cc.audioEngine.playEffect(this.clickSE,!1),this.btnStory.runAction(new cc.ScaleTo(.5,1.1,1.1).easing(cc.easeElasticOut()));var t=new cc.FadeOut(.3),e=this,i=new cc.CallFunc(function(){e.node.active=!1,e.node.y=2*cc.visibleRect.height,e.WindowStoryScr.show()}),a=new cc.Sequence([t,i]);this.node.runAction(a)}}),cc._RFpop()},{WindowStory:"WindowStory",manager:"manager"}],WindowVictory:[function(t,e,i){"use strict";cc._RFpush(e,"ac42d/EmthLfYNHsT88yYnU","WindowVictory"),cc.Class({"extends":cc.Component,properties:{skeltonBlack:{"default":null,type:cc.Node},window:{"default":null,type:cc.Node},clickSE:{"default":null,url:cc.AudioClip},mapFrame:{"default":null,type:cc.Node}},start:function(){this.mapFrame.width==cc.visibleRect.width,this.mapFrame.height==cc.visibleRect.height},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.director.loadScene("map00")},t)},show:function(){cc.sys.localStorage.clear(),this.node.active=!0,this.skeltonBlack.width=cc.visibleRect.width,this.skeltonBlack.height=cc.visibleRect.height,this.node.x=cc.visibleRect.width/2,this.node.y=cc.visibleRect.height/2;var t=new cc.FadeIn(.3);this.node.runAction(t),this.window.scaleX=.75,this.window.scaleY=.75;var e=new cc.ScaleTo(.5,1,1).easing(cc.easeElasticOut());this.window.runAction(e)},hide:function(){this.node.active=!1,this.node.y=2*cc.visibleRect.height}}),cc._RFpop()},{}],areaRangeLayer:[function(t,e,i){"use strict";cc._RFpush(e,"793aeeZW2JL6r5RQ3jK2W8B","areaRangeLayer");t("map"),t("Utils");cc.Class({"extends":cc.Component,properties:{blue:{"default":null,type:cc.Prefab},red:{"default":null,type:cc.Prefab}},onLoad:function(){},drawMovementRange:function(t,e){e.forEach(function(e){var i;i=e.open?cc.instantiate(this.blue):cc.instantiate(this.red),i&&(t.setPositionObject(i,e.i,e.j),this.node.addChild(i))},this)}}),cc._RFpop()},{Utils:"Utils",map:"map"}],astar:[function(t,e,i){"use strict";cc._RFpush(e,"249bfMSzS9FDJC5bjrljTsl","astar"),function(t){if("object"==typeof e&&"object"==typeof e.exports)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();window.astar=i.astar,window.Graph=i.Graph}}(function(){function t(t){for(var e=t,i=[];e.parent;)i.push(e),e=e.parent;return i.reverse()}function e(){return new n(function(t){return t.f})}function i(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var i=0;i<t.length;i++){this.grid[i]=[];for(var n=0,c=t[i];n<c.length;n++){var o=new a(i,n,c[n]);this.grid[i][n]=o,this.nodes.push(o)}}}function a(t,e,i){this.x=t,this.y=e,this.weight=i}function n(t){this.content=[],this.scoreFunction=t}var c={init:function(t){for(var e=0,i=t.nodes.length;e<i;++e){var a=t.nodes[e];a.f=0,a.g=0,a.h=0,a.visited=!1,a.closed=!1,a.parent=null}},search:function(i,a,n,o){c.init(i),o=o||{};var s=o.heuristic||c.heuristics.manhattan,r=o.closest||!1,l=e(),h=a;for(a.h=s(a,n),l.push(a);l.size()>0;){var u=l.pop();if(u===n)return t(u);u.closed=!0;for(var d=i.neighbors(u),p=0,g=d.length;p<g;++p){var f=d[p];if(!f.closed&&!f.isWall()){var m=u.g+f.getCost(u),y=f.visited;(!y||m<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||s(f,n),f.g=m,f.f=f.g+f.h,r&&(f.h<h.h||f.h===h.h&&f.g<h.g)&&(h=f),y?l.rescoreElement(f):l.push(f))}}}return r?t(h):[]},heuristics:{manhattan:function(t,e){var i=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);
return i+a},diagonal:function(t,e){var i=1,a=Math.sqrt(2),n=Math.abs(e.x-t.x),c=Math.abs(e.y-t.y);return i*(n+c)+(a-2*i)*Math.min(n,c)}}};return i.prototype.neighbors=function(t){var e=[],i=t.x,a=t.y,n=this.grid;return n[i-1]&&n[i-1][a]&&e.push(n[i-1][a]),n[i+1]&&n[i+1][a]&&e.push(n[i+1][a]),n[i]&&n[i][a-1]&&e.push(n[i][a-1]),n[i]&&n[i][a+1]&&e.push(n[i][a+1]),this.diagonal&&(n[i-1]&&n[i-1][a-1]&&e.push(n[i-1][a-1]),n[i+1]&&n[i+1][a-1]&&e.push(n[i+1][a-1]),n[i-1]&&n[i-1][a+1]&&e.push(n[i-1][a+1]),n[i+1]&&n[i+1][a+1]&&e.push(n[i+1][a+1])),e},i.prototype.toString=function(){for(var t,e,i,a,n=[],c=this.grid,o=0,s=c.length;o<s;o++){for(t=[],e=c[o],i=0,a=e.length;i<a;i++)t.push(e[i].weight);n.push(t.join(" "))}return n.join("\n")},a.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},a.prototype.getCost=function(){return this.weight},a.prototype.isWall=function(){return 0===this.weight},n.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),i=this.content.pop();e!==this.content.length-1&&(this.content[e]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var i=(t+1>>1)-1,a=this.content[i];if(!(this.scoreFunction(e)<this.scoreFunction(a)))break;this.content[i]=e,this.content[t]=a,t=i}},bubbleUp:function(t){for(var e=this.content.length,i=this.content[t],a=this.scoreFunction(i);;){var n,c=t+1<<1,o=c-1,s=null;if(o<e){var r=this.content[o];n=this.scoreFunction(r),n<a&&(s=o)}if(c<e){var l=this.content[c],h=this.scoreFunction(l);h<(null===s?a:n)&&(s=c)}if(null===s)break;this.content[t]=this.content[s],this.content[s]=i,t=s}}},{astar:c,Graph:i}}),cc._RFpop()},{}],boat:[function(t,e,i){"use strict";cc._RFpush(e,"217e8ELpeBLyqgeYu1gUAhB","boat");var a=t("Utils");cc.Class({"extends":cc.Component,properties:{movement:{"default":3},range:{"default":3},attack:{"default":100},defence:{"default":50},hpMax:{"default":100},hp:{"default":100},nameKey:{"default":"map00.fire.10"},healthBarPrefab:{"default":null,type:cc.Prefab},moveType:"normal",skillName:"map00.fire.25"},start:function(){this.hp=this.hpMax;var t=cc.instantiate(this.healthBarPrefab);t.anchor=this.node.anchor,t.scaleX=this.node.scaleX,this.hpBarScr=t.getComponent("health"),this.hpBarScr.setHP(1),this.node.addChild(t),this.usedSkill=!1},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.ontouchend(e)},t)},updateHPBar:function(){this.hpBarScr.setHP(this.hp/this.hpMax)},setWindowStatus:function(t){this.windowStatusScr=t},setMapSrc:function(t){this.mapSrc=t},setGamePlayerScr:function(t){this.gamePlayerScr=t},withinRange:function(t,e){return a.getManhattanDistance(this.node.i,this.node.j,t,e)<=this.range},takeDamage:function(t){return this.hp-=Math.max(t-this.defence,1),this.updateHPBar(),this.hp},healDamage:function(t){this.hp=Math.min(this.hp+t,this.hpMax),this.updateHPBar()},sinkBoat:function(){cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.skinSE,!1),this.gamePlayerScr.removeBoatNode(this.node);var t=this.node.getComponent(cc.Animation);t.play("sinkBoat0")},deleteSelfFromOwner:function(){this.node.parent.removeChild(this.node)},onAnimCompleted:function(){this.deleteSelfFromOwner()},useSkill:function(){if(0==this.usedSkill){this.usedSkill=!0;var t=this;t.activateSkill(function(){t.gamePlayerScr.managerSrc.endTurn()})}},activateSkill:function(t){this.gamePlayerScr.managerSrc.UIShieldScr.show();var e=this;this.gamePlayerScr.managerSrc.BannerScr.show(e.getId(e.nameKey)+4,function(){e.gamePlayerScr.managerSrc.AlertScr.alert(e.skillName,function(){e.processSkill(t)})})},getId:function(t){var e=0;switch(t){case"map00.fire.11":e=1;break;case"map00.fire.12":e=2;break;case"map00.fire.13":e=3;break;default:e=0}return e},processSkill:function(t){this.gamePlayerScr.boatNodeList.forEach(function(t){var e=Math.ceil(this.hpMax/2),i=t.getComponent("boat");i.healDamage(e)},this),t()},attackBoat:function(t){this.gamePlayerScr.managerSrc.UIShieldScr.show();var e,i=this.attack,a=Math.random()-.5,n=i/10*a,c=Math.random(),o=!1;if(c>.9?(e=2*(i+n),o=!0):e=c<.1?0:i+n,e=Math.ceil(e),e>0){var s=(t.hp,t.takeDamage(e),cc.instantiate(this.gamePlayerScr.managerSrc.explosionPrefab));s.x=t.node.x+s.width/2,s.y=t.node.y+s.height/2,this.mapSrc.node.addChild(s),cc.audioEngine.playEffect(this.gamePlayerScr.managerSrc.explosionSE,!1),t.hp<=0?(this.gamePlayerScr.managerSrc.AlertScr.alert("map00.fire.23"),t.node.removeAllChildren(),t.sinkBoat()):o&&this.gamePlayerScr.managerSrc.AlertScr.alert("map00.fire.22")}else this.gamePlayerScr.managerSrc.AlertScr.alert("map00.fire.21");this.gamePlayerScr.managerSrc.endTurn()},ontouchend:function(t){if(this.gamePlayerScr.isActive()){var e=this.gamePlayerScr.getIndexOfEnableBoat(this.node);this.gamePlayerScr.getActiveBoatNode()==this.node?this.windowStatusScr.showMyStatus(this):e>=0&&(this.mapSrc.setFocus(this),this.gamePlayerScr.setActiveBoatNode(this.node))}else{var i=this.gamePlayerScr.managerSrc.getActivePlayer(),a=i.getActiveBoatNode();if(i.getIndexOfEnableBoat(a)>=0){var n=a.getComponent("boat");n.withinRange(this.node.i,this.node.j)?n.attackBoat(this):this.gamePlayerScr.managerSrc.AlertScr.alert("map00.fire.24")}}t.stopPropagation()}}),cc._RFpop()},{Utils:"Utils"}],en:[function(t,e,i){"use strict";cc._RFpush(e,"920c5VLzJxKjYCAoIUwUHym","en"),e.exports={"map00.fire.00":"Captain Name","map00.fire.01":"Attack","map00.fire.02":"Move","map00.fire.03":"Defence","map00.fire.04":"Range","map00.fire.05":"HP","map00.fire.09":"none","map00.fire.10":"teitoku","map00.fire.11":"hayai","map00.fire.12":"katai","map00.fire.13":"tuyoi","map00.fire.14":"noob","map00.fire.15":"moa metal","map00.fire.16":"yuu metal","map00.fire.17":"su metal","map00.fire.20":"Volume","map00.fire.21":"Missed!","map00.fire.22":"Critical Hit!","map00.fire.23":"Sank!","map00.fire.24":"Out of Range","map00.fire.25":"Use Skill","map00.fire.26":"Yale","map00.fire.27":"Hurry up","map00.fire.28":"Iron Shield","map00.fire.29":"Bullet Storm","map00.fire.30":"Coffee break","map00.fire.31":"Ambush","map00.fire.32":"Super Recovery","map00.fire.33":"Big Wave","map00.fire.50":"Congraturations！","map00.fire.51":"TURN"},cc._RFpop()},{}],explosion:[function(t,e,i){"use strict";cc._RFpush(e,"f062dzoizNIGJJSdJccTY9s","explosion"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onAnimCompleted:function(){this.node.parent.removeChild(this.node)}}),cc._RFpop()},{}],health:[function(t,e,i){"use strict";cc._RFpush(e,"a2fdev2kwdKlJh8todGdHmV","health"),cc.Class({"extends":cc.Component,properties:{green:{"default":null,type:cc.Node},red:{"default":null,type:cc.Node}},onLoad:function(){},setHP:function(t){this.red.scaleX=t,this.green.scaleX=t,t>.5?(this.red.opacity=0,this.green.opacity=255):(this.red.opacity=255,this.green.opacity=0)},removeSelf:function(){this.node.parent.removeChild(this.node)}}),cc._RFpop()},{}],i18n:[function(t,e,i){"use strict";cc._RFpush(e,"93789C/shtIL6entYsZPjee","i18n");var a=t("polyglot"),n=cc.sys.language;"ja"!==n&&(n="en");var c=t(n),o=new a({phrases:c,allowMissing:!0});e.exports={init:function(e){n=e,c=t(n),o.replace(c)},t:function(t,e){return o.t(t,e)}},cc._RFpop()},{polyglot:"polyglot"}],ja:[function(t,e,i){"use strict";cc._RFpush(e,"61060ImcuZNr5/aS7s9iZhY","ja"),e.exports={"map00.fire.00":"キャプテン名","map00.fire.01":"攻撃","map00.fire.02":"移動","map00.fire.03":"防御","map00.fire.04":"範囲","map00.fire.05":"体力","map00.fire.09":"名無しちゃん","map00.fire.10":"ももちゃん","map00.fire.11":"きじちゃん","map00.fire.12":"さるちゃん","map00.fire.13":"いぬちゃん","map00.fire.14":"ざこめたる","map00.fire.15":"もあめたる","map00.fire.16":"ゆいめたる","map00.fire.17":"すうめたる","map00.fire.20":"音量","map00.fire.21":"ミスした!","map00.fire.22":"クリティカルヒット!","map00.fire.23":"沈没した!","map00.fire.24":"届きません!","map00.fire.25":"必殺技","map00.fire.26":"ケアルホイミ","map00.fire.27":"すっとばし","map00.fire.28":"石化","map00.fire.29":"一斉射撃","map00.fire.30":"一休み","map00.fire.31":"伏兵","map00.fire.32":"全快","map00.fire.33":"大海嘯","map00.fire.50":"おめでとう！","map00.fire.51":"ターン"},cc._RFpop()},{}],manager:[function(t,e,i){"use strict";cc._RFpush(e,"e0046mLUtJEwpUGl48piS3E","manager");var a=t("map"),n=t("GamePlayer"),c=t("UI"),o=t("UIShield"),s=t("Banner"),r=t("Alert"),l=(t("AIGamePlayer"),t("WindowVictory"));cc.Class({"extends":cc.Component,properties:{mapScr:{"default":null,type:a},gamePlayerScrList:{"default":[],type:[n]},boatPrefabList:{"default":[],type:[cc.Prefab]},UIScr:{"default":null,type:c},explosionPrefab:{"default":null,type:cc.Prefab},UIShieldScr:{"default":null,type:o},UIShieldCPUScr:{"default":null,type:o},BannerScr:{"default":null,type:s},AlertScr:{"default":null,type:r},BGM:{"default":null,url:cc.AudioClip},explosionSE:{"default":null,url:cc.AudioClip},skinSE:{"default":null,url:cc.AudioClip},changeBoatSE:{"default":null,url:cc.AudioClip},WindowVictoryScr:{"default":null,type:l}},start:function(){},beginCampain:function(t,e){this.playMode="campain",cc.audioEngine.playMusic(this.BGM,!0),this.stageId=t,this.turnCounter=0,this.mapScr.setManagerSrc(this),this.playersCount=0,0==this.stageId?this.createPlayers({players:[{player:{boat:[{type:0,i:1,j:26}],dir:1}}]}):1==this.stageId?this.createPlayers({players:[{player:{boat:[{type:0,i:2,j:26},{type:1,i:3,j:28},{type:2,i:3,j:27}],dir:1}}]}):2==this.stageId?this.createPlayers({players:[{player:{boat:[{type:0,i:1,j:26},{type:1,i:3,j:26},{type:2,i:2,j:28},{type:3,i:3,j:27}],dir:1}}]}):this.createPlayers(JSON.parse(e)),this.setupStage();var i=this;this.BannerScr.show(this.getActivePlayer().id,function(){var t=i.getActivePlayer();t.setActive(!0),t.setActiveBoatNode(t.getActiveBoatNode()),i.startTurn()})},setupStage:function(){var t=[{players:[{player:{boat:[{type:1,i:9,j:25},{type:2,i:9,j:24}],dir:-1}}]},{players:[{player:{boat:[{type:3,i:9,j:23}],dir:-1}}]},{players:[{player:{boat:[{type:0,i:28,j:1},{type:2,i:25,j:24},{type:2,i:7,j:7}],dir:-1}}]},{players:[{player:{boat:[{type:0,i:28,j:1},{type:2,i:28,j:3},{type:2,i:7,j:7},{type:1,i:23,j:22}],dir:-1}}]},{players:[{player:{boat:[{type:0,i:28,j:1},{type:1,i:26,j:1},{type:1,i:26,j:3},{type:3,i:9,j:9}],dir:-1}}]},{players:[{player:{boat:[{type:1,i:28,j:1},{type:3,i:7,j:9},{type:1,i:26,j:3},{type:3,i:9,j:9}],dir:-1}}]}];return this.stageId<t.length?void this.createPlayers(t[this.stageId]):void this.WindowVictoryScr.show()},beginVSMode:function(){this.playMode="vs",cc.audioEngine.playMusic(this.BGM,!0),this.turnCounter=0,this.mapScr.setManagerSrc(this),this.playerli,this.playersCount=0,this.createPlayers({players:[{player:{boat:[{type:0,i:1,j:28},{type:1,i:3,j:28},{type:2,i:1,j:26},{type:3,i:3,j:26}],dir:1}},{player:{boat:[{type:0,i:28,j:1},{type:0,i:26,j:3},{type:0,i:28,j:3},{type:0,i:26,j:1}],dir:-1}}]});var t=this;this.BannerScr.show(this.getActivePlayer().id,function(){var e=t.getActivePlayer();e.setActive(!0),e.setActiveBoatNode(e.getActiveBoatNode()),t.startTurn()})},createPlayer:function(t,e,i,a,n){var c=cc.instantiate(e);n<0&&(c.anchorX=1,c.scaleX=-1),this.mapScr.addChild(c),this.mapScr.setPositionBoat(c,i,a),t.addBoatNode(c),t.activeBoatNode=c,this.mapScr.setActiveBoat(c,!0)},createPlayers:function(t){var e=t.players;e.forEach(function(t){var e=t.player,i=e.dir,a=e.boat;this.gamePlayerScrList[this.playersCount].setManagerSrc(this),a.forEach(function(t){this.createPlayer(this.gamePlayerScrList[this.playersCount],this.boatPrefabList[t.type],t.i,t.j,i)},this),this.playersCount++},this)},setStartPosition:function(t){this.startPosition=t},getFreeTurns:function(t,e){this.skipper=t,this.turns=e},getActivePlayer:function(){return this.gamePlayerScrList[this.turnCounter%this.gamePlayerScrList.length]},getNonActivePlayer:function(){return this.gamePlayerScrList[(this.turnCounter+1)%this.gamePlayerScrList.length]},startTurn:function(){this.turns>0&&this.skipper!=this.getActivePlayer()&&(this.turns--,this.UIShieldScr.show(),this.endTurn());var t=this.getActivePlayer();t.resetEnableBoatList();var e=t.getActiveBoatNode();if(this.mapScr.setFocus(e.getComponent("boat")),this.updateTurn(),"cup"==t.iam){if(this.cpuCommandCount>0)return;this.cpuCommandCount=1,t.simulatePlay()}},updateTurn:function(){this.mapScr.setActiveBoat(this.getActivePlayer().getActiveBoatNode(),!1),null==this.getActivePlayer().activeBoatNode&&(this.getActivePlayer().activeBoatNode=this.getActivePlayer().getActiveBoatNode()),this.mapScr.drawMovementRange(),this.UIScr.updateTurn(this.turnCounter),this.UIScr.updatePlayer(this.getActivePlayer().data),cc.audioEngine.playEffect(this.changeBoatSE,!1)},endTurn:function(){var t=this.getActivePlayer();t.setActive(!1);var e=this.getWinner();if(e)if("vs"==this.playMode)this.BannerScr.showMidTerm(e.id+2,function(){cc.director.loadScene("map00")});else if(e.id+2==2){var i=this;this.BannerScr.showMidTerm(e.id+2,function(){cc.sys.localStorage.setItem("user",i.gamePlayerScrList[0].toJSONString()),cc.sys.localStorage.setItem("stage",""+(+i.stageId+1)),cc.sys.localStorage.setItem("continue",1),cc.director.loadScene("map00")})}else{var i=this;this.BannerScr.showMidTerm(e.id+2,function(){cc.sys.localStorage.setItem("continue",""),cc.director.loadScene("map00")})}else{var a=this.getActivePlayer().getNextEnableBoatAndRemove(this.getActivePlayer().activeBoatNode);if(null!=a)return this.mapScr.setFocus(a.getComponent("boat")),this.getActivePlayer().setActiveBoatNode(a),this.getActivePlayer().setActive(!0),void("cup"==this.getActivePlayer().iam?(this.UIShieldCPUScr.show(),this.getActivePlayer().simulatePlay()):(this.UIShieldCPUScr.hide(),this.UIShieldScr.hide(),this.BannerScr.hide()));var n=this.getActivePlayer();null!=n&&null!=n.activeBoatNode&&(n.activeBoatNode.opacity=255,n.activeBoatNode.stopAllActions()),this.turnCounter++,this.getActivePlayer().setActive(!0);var c=new cc.Blink(10,20);this.getActivePlayer().getActiveBoatNode().runAction(new cc.RepeatForever(c)),"cup"==this.getActivePlayer().iam?(this.UIShieldCPUScr.show(),this.cpuCommandCount=0):this.UIShieldCPUScr.hide();var i=this;this.BannerScr.show(this.getActivePlayer().id,function(){i.UIShieldScr.hide(),i.BannerScr.hide(),i.startTurn()})}},getWinner:function(){return 0==this.getActivePlayer().boatNodeList.length?0==this.getNonActivePlayer().boatNodeList.length?this.getActivePlayer():this.getNonActivePlayer():0==this.getNonActivePlayer().boatNodeList.length?this.getActivePlayer():null},getTotalBoatList:function(){var t=[];return this.getActivePlayer().boatNodeList&&this.getActivePlayer().boatNodeList.forEach(function(e){t.push(e)},this),this.getNonActivePlayer().boatNodeList&&this.getNonActivePlayer().boatNodeList.forEach(function(e){t.push(e)},this),t}}),cc._RFpop()},{AIGamePlayer:"AIGamePlayer",Alert:"Alert",Banner:"Banner",GamePlayer:"GamePlayer",UI:"UI",UIShield:"UIShield",WindowVictory:"WindowVictory",map:"map"}],mapMarker:[function(t,e,i){"use strict";cc._RFpush(e,"b7b0aKFoUVDP5ueNcSzEoEn","mapMarker"),cc.Class({"extends":cc.Component,properties:{state:{"default":0,serializable:!1},mapuiOK:{"default":null,type:cc.Node},mapuiNG:{"default":null,type:cc.Node}},onLoad:function(){this.changeState(0)},changeState:function(t){1==t?(this.mapuiOK.active=!0,this.mapuiNG.active=!1):2==t?(this.mapuiOK.active=!1,this.mapuiNG.active=!0):(this.mapuiOK.active=!1,this.mapuiNG.active=!1),this.state=t}}),cc._RFpop()},{}],map:[function(t,e,i){"use strict";cc._RFpush(e,"85447H6lapLg75IIzgWZp86","map");var a=t("mapMarker"),n=(t("areaRangeLayer"),t("Utils")),c=t("astar"),o=cc.Enum({NONE:0,UP:1,DOWN:2,LEFT:4,RIGHT:8}),s=cc.Enum({ARAI:10,RIKU:12,ASAI:11,IWA:13});cc.Class({"extends":cc.Component,editor:{requireComponent:cc.TiledMap},properties:{floorLayerName:{"default":"floor"},barrierLayerName:{"default":"barrier"},objectGroupName:{"default":"players"},startObjectName:{"default":"SpawnPoint"},successObjectName:{"default":"SuccessPoint"},mapMarker:{"default":null,type:a},underLayer:{"default":null,type:cc.Node},areaRangeLayer:{"default":null,type:cc.Prefab}},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){t.ontouchupdate(e)},t),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.ontouchupdate(e)},t),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.ontouchend(e)},t)},outOfBorders:function(t,e){var i=this._tiledMap.getMapSize();return t<0||(t>=i.width||(e<0||e>=i.height))},getPath:function(t,e,i,a,n){var o;if(this.outOfBorders(t,e)&&(t=i,e=a),"light"==n.moveType){var s=this.searchGraphLight.grid[t][e],r=this.searchGraphLight.grid[i][a];o=c.astar.search(this.searchGraphLight,s,r)}else if("heavy"==n.moveType){var s=this.searchGraphHeavy.grid[t][e],r=this.searchGraphHeavy.grid[i][a];o=c.astar.search(this.searchGraphHeavy,s,r)}else{var s=this.searchGraph.grid[t][e],r=this.searchGraph.grid[i][a];o=c.astar.search(this.searchGraph,s,r)}return o.cost=0,o.forEach(function(t){o.cost+=t.getCost()},this),o},ontouchupdate:function(t){var e=t.touch.getLocation(),i=this._getTilePos(e);if(!this.outOfBorders(i.i,i.j)){0==this.mapMarker.state?(this.mapMarker.changeState(1),this.setPositionObject(this.mapMarker.node,i.x,i.y)):this.setPositionObject(this.mapMarker.node,i.x,i.y);var a=this._layerBarrier.getTileGIDAt(i);if(a==s.IWA||a==s.RIKU)this.mapMarker.changeState(2);else if(n.getManhattanDistance(this.activeBoat.node.i,this.activeBoat.node.j,i.x,i.y)<=this.activeBoat.movement){var c=this.getPath(this.activeBoat.node.i,this.activeBoat.node.j,i.x,i.y,this.activeBoat);if(c.cost<=this.activeBoat.movement){for(var o=this.managerSrc.getTotalBoatList(),r=!1,l=0;l<o.length;l++)if(o[l].i==i.x&&o[l].j==i.y){r=!0;break}r?this.mapMarker.changeState(2):this.mapMarker.changeState(1)}else this.mapMarker.changeState(2)}else this.mapMarker.changeState(2)}},ontouchend:function(t){this.mapMarker.state&&this.mapMarker.changeState(0);var e=t.touch.getLocation(),i=this._getTilePos(e),a=this._layerBarrier.getTileGIDAt(i);if(a==s.IWA||a==s.RIKU)console.log("can't move!");else{if(this.outOfBorders(i.x,i.y))return;for(var c=this.managerSrc.getTotalBoatList(),o=0;o<c.length;o++)if(c[o].i==i.x&&c[o].j==i.y)return;if(n.getManhattanDistance(this.activeBoat.node.i,this.activeBoat.node.j,i.x,i.y)<=this.activeBoat.movement){var r=this.getPath(this.activeBoat.node.i,this.activeBoat.node.j,i.x,i.y,this.activeBoat);if(r.cost<=this.activeBoat.movement){var l=this;l.getDirection(i,l.activeBoat.node);l.managerSrc.UIShieldScr.show(),l.moveBoat(l.activeBoat,r,function(){l.managerSrc.endTurn()})}}}},moveBoat:function(t,e,i){if(e.length>0){var a=e.shift(),n=this._layerFloor.getPositionAt(cc.p(a.x,a.y)),c=a.getCost();t.node.i=a.x,t.node.j=a.y;var o=new cc.MoveTo(.1*c,n.x,n.y).easing(cc.easeQuadraticActionInOut()),s=this,r=new cc.CallFunc(function(){s.moveBoat(t,e,i)});t.node.runAction(new cc.Sequence([o,r]))}else i()},getDirection:function(t,e){var i=t.x-e.i,a=t.y-e.j,n=(Math.abs(i),Math.abs(a),o.NONE);return n+=i>0?o.LEFT:o.RIGHT,n+=a>0?o.DOWN:o.UP},start:function(t){if(!t){this._initMapPos(),this._tiledMap=this.node.getComponent("cc.TiledMap");var e=this._tiledMap.getObjectGroup(this.objectGroupName);if(e&&(this._layerFloor=this._tiledMap.getLayer(this.floorLayerName),this._layerBarrier=this._tiledMap.getLayer(this.barrierLayerName),this._layerFloor&&this._layerBarrier)){for(var i=this._tiledMap.getMapSize(),a=[],n=[],o=[],r=0;r<i.width;r++){for(var l=[],h=[],u=[],d=0;d<i.height;d++){var p=this._layerBarrier.getTileGIDAt(cc.p(r,d));switch(p){case s.ARAI:l.push(2),h.push(3),u.push(1);break;case s.ASAI:l.push(2),h.push(1),u.push(3);break;case s.RIKU:case s.IWA:l.push(0),h.push(0),u.push(0);break;default:l.push(1),h.push(1),u.push(1)}}a.push(l),n.push(h),o.push(u)}this.searchGraph=new c.Graph(a),this.searchGraphLight=new c.Graph(n),this.searchGraphHeavy=new c.Graph(o)}}},_initMapPos:function(){this.node.setPosition(cc.visibleRect.bottomLeft)},_getTilePos:function(t){var e=this.node.getContentSize(),i=this._tiledMap.getTileSize(),a=Math.floor((t.x+this.node.x*-1)/i.width),n=Math.floor((e.height-t.y+this.node.y)/i.height);return cc.p(a,n)},setFocus:function(t){var e=this._getTilePos(cc.p(cc.visibleRect.width/2,cc.visibleRect.height/2)),i=this.node.getContentSize(),a=this.node.getPosition(),n=cc.size(cc.visibleRect.width,cc.visibleRect.height),c=this._tiledMap.getTileSize(),o=(t.node.i-e.x)*c.width,s=(t.node.j-e.y)*c.height;o=Math.floor(o)*-1,s=Math.floor(s),o+=a.x,s+=a.y;var r=cc.p(o,s),l=n.width-i.width,h=n.height-i.height;if(r.x>0?r.x=0:r.x<l&&(r.x=l),r.y>0?r.y=0:r.y<h&&(r.y=h),!cc.pointEqualToPoint(r,a)){cc.log("Move the map to new position: ",r);var u=new cc.MoveTo(.1,r.x,r.y).easing(cc.easeQuadraticActionInOut());this.node.runAction(u)}},addChild:function(t){this._playerLayer=this.node.getChildByName("playerLayer"),this._playerLayer.addChild(t)},setPositionObject:function(t,e,i){var a=this._layerFloor.getPositionAt(cc.p(e,i));t.setPosition(a),t.i=e,t.j=i},setPositionBoat:function(t,e,i){this.setPositionObject(t,e,i)},setActiveBoat:function(t,e){this.activeBoat=t.getComponent("boat"),this.activeBoat.setMapSrc(this),e||this.drawMovementRange()},drawMovementRange:function(){var t=this.underLayer.getChildByName("areaRangeLayer");t&&this.underLayer.removeAllChildren();var e=cc.instantiate(this.areaRangeLayer);this.underLayer.addChild(e);var i=e.getComponent("areaRangeLayer");i.drawMovementRange(this,this.getMovementRange(this.activeBoat,!1))},getMovementRange:function(t,e){for(var i=this.managerSrc.getTotalBoatList(),a=[],c=t.node,o=t.movement,s=-o;s<=o;s++)for(var r=t.node.i+s,l=-o;l<=o;l++){var h=t.node.j+l;if(!this.outOfBorders(r,h)&&n.getManhattanDistance(c.i,c.j,r,h)<=o){var u=this.getPath(c.i,c.j,r,h,t);if(u.cost<=o){var d=!0,p=this._layerBarrier.getTileGIDAt(cc.p(r,h));12==p||13==p?d=!1:i.forEach(function(t){r==t.i&&h==t.j&&(d=!1)},this),0==d?e&&a.push({i:r,j:h,open:!1}):a.push({i:r,j:h,open:!0})}}}return a},setManagerSrc:function(t){this.managerSrc=t}}),cc._RFpop()},{Utils:"Utils",areaRangeLayer:"areaRangeLayer",astar:"astar",mapMarker:"mapMarker"}],polyglot:[function(t,e,i){(function(t){"use strict";cc._RFpush(e,"69decSgpRlE1rzEKp0RzG3V","polyglot"),function(t,a){"function"==typeof define&&define.amd?define([],function(){return a(t)}):"object"==typeof i?e.exports=a(t):t.Polyglot=a(t)}("undefined"!=typeof t?t:this,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||r}function i(t){var e,i,a,n={};for(e in t)if(t.hasOwnProperty(e)){i=t[e];for(a in i)n[i[a]]=e}return n}function a(t){return h.call(t,g,"")}function n(t,e,i){var n,c,s;return null!=i&&t?(c=t.split(u),s=c[o(e,i)]||c[0],n=a(s)):n=t,n}function c(t){var e=i(p);return e[t]||e.en}function o(t,e){return d[c(t)](e)}function s(t,e){for(var i in e)if("_"!==i&&e.hasOwnProperty(i)){var a=e[i];"string"==typeof a&&(a=h.call(e[i],f,m)),t=h.call(t,new RegExp("%\\{"+i+"\\}","g"),a)}return t}function r(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function l(t){var e={};for(var i in t)e[i]=t[i];return e}var h=String.prototype.replace;e.VERSION="1.0.0",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var i;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],e&&(a=e+"."+a),"object"==typeof i?this.extend(i,a):this.phrases[a]=i)},e.prototype.unset=function(t,e){var i;if("string"==typeof t)delete this.phrases[t];else for(var a in t)t.hasOwnProperty(a)&&(i=t[a],e&&(a=e+"."+a),"object"==typeof i?this.unset(i,a):delete this.phrases[a])},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var i,a;return e=null==e?{}:e,"number"==typeof e&&(e={smart_count:e}),"string"==typeof this.phrases[t]?i=this.phrases[t]:"string"==typeof e._?i=e._:this.allowMissing?i=t:(this.warn('Missing translation for key: "'+t+'"'),a=t),"string"==typeof i&&(e=l(e),a=n(i,this.currentLocale,e.smart_count),a=s(a,e)),a},e.prototype.has=function(t){return t in this.phrases};var u="||||",d={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!==1||t%100===11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},g=/^\s+|\s+$/g,f=/\$/g,m="$$$$";return e}),cc._RFpop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},["WindowTitle","UIShield","boat","astar","HayaiBoat","KataiBoat","UI","CaptainBoat","KogekiBoat","ja","polyglot","AIGamePlayer","WindowStory","areaRangeLayer","map","WindowSettings","WindowStatus","en","i18n","Main","Utils","Alert","health","WindowVictory","mapMarker","Banner","GamePlayer","manager","LabelLocalized","explosion"]);